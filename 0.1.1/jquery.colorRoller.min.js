(function(n){"use strict";if(!window){console.error("$.colorRoller error: no window object found.");return}window.colorRoller={};n.colorRoller=function(t,i){function r(n,t){n=n||"";t=t||"";var i=t.toString(),r=n.toString();return r.indexOf(i)!==-1?!0:!1}function h(n,t){for(var i=0,u=t.length;i<u;i++)if(r(t[i],n))return t[i]}function c(n,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+t+"=([^&#]*)",u=new RegExp(r),i=u.exec(n);return i!==null?i[1]:""}function o(i,r,u){window.colorRoller[r]={};window.colorRoller[r].uiHex={};window.colorRoller[r].cssScope=u;window.colorRoller[r].cssUrl=i;n.ajax({url:i}).done(function(n){var u=h("/themeroller/",n.split("*"));for(var i in t.urlColorNames)window.colorRoller[r].uiHex[i]=c(u,i);l(r)}).fail(function(){console.error(arguments)})}function l(u){var o,f,c,l;t.devMode&&(o='<h1 style="margin:0px;">Theme Name: '+u+"<\/h1>"+('<h2 style="margin:10px 0px;">Theme URL: '+window.colorRoller[u].cssUrl+"<\/h2><hr />"));var e="",a="",s="",h="",v=window.colorRoller[u].cssScope?"."+window.colorRoller[u].cssScope+" ":"";for(f in t.urlColorNames)a=r(f,"Hover")?":hover ":"",r(f,"bg")?e="background-color:#":r(f,"border")?e="border: 1px solid #":(r(f,"fc")||r(f,"icon"))&&(e="color:#"),h=v+"."+f+a+" {"+e+window.colorRoller[u].uiHex[f]+";} \n",s+=h,t.devMode&&(o+='<strong class="'+f+'">Class name: '+f+"<\/strong> <em>"+h+" <\/em><br /><hr />");n('<style type="text/css" theme="'+u+'">'+s+"<\/style>").appendTo("head");t.devMode&&(c='<div style="padding:20px; margin:20px; background-color:#fff; color: #222; border:1px solid lime;" class="'+window.colorRoller[u].cssScope+'" rel="colorRollerDev">'+o+'<textarea style="height:400px; width:99%;">'+s+"<\/textarea><\/div>",l=n('div[rel="devModeAnchor"]').length>0?n('div[rel="devModeAnchor"]'):l=n("body"),n('div[rel="colorRollerDev"]').length>0?n('div[rel="colorRollerDev"]').after(c):l.append(c));typeof i=="function"&&i.call(this)}var f,u,s,e;if(t=jQuery.extend({themeName:"custom-theme",themeUrl:"",devMode:!1,cssScope:"",fetchCSS:"/dist/0.1.1/fetchCSS.php",urlColorNames:{bgColorHeader:"",borderColorHeader:"",fcHeader:"",iconColorHeader:"",bgColorContent:"",borderColorContent:"",fcContent:"",iconColorContent:"",bgColorDefault:"",borderColorDefault:"",fcDefault:"",iconColorDefault:"",bgColorHover:"",borderColorHover:"",fcHover:"",iconColorHover:"",bgColorActive:"",borderColorActive:"",fcActive:"",iconColorActive:"",bgColorHighlight:"",borderColorHighlight:"",fcHighlight:"",iconColorHighlight:"",bgColorError:"",borderColorError:"",fcError:"",iconColorError:"",bgColorOverlay:"",bgColorShadow:""}},t),f=t.themeUrl?t.themeUrl:t.themeName,r(t.themeUrl,"http"))if(t.fetchCSS.toString()!=="")o(t.fetchCSS+"?url="+t.themeUrl,t.themeName,t.cssScope);else{console.error(' fetchCSS undefined! \n Specify the ABSOLUTE file location of fetchCSS.php in $.colorRoller settings, or add as an option to $.colorRoller() i.e. $.colorRoller({themeUrl:"http://external.com/styles.css",fetchCSS:"/location/to/fetchCSS.php"}); ');return}else for(u=0,s=n("link").length;u<s;u++)if(e=n("link:eq("+u+")").attr("href"),r(e,f)){o(e,f,t.cssScope);break}return n.colorRoller.destroy=function(t,i){typeof t=="undefined"?(n("style[theme]").remove(),delete window.colorRoller):n("style").each(function(){n(this).attr("theme")===t&&(n(this).remove(),delete window.colorRoller[t])});typeof i=="function"&&i.call(this)},this}})(jQuery);